/* ======================= 第四部分：插入测试数据 ======================= */
-- 1. 插入管理员数据
INSERT INTO Administrator(adminNo, adminPassword, adminName, phone) VALUES
('123jianzhu', '123456', '张建筑', '13800138000'),
('A20230002', '123456', '李管理', '13800138001'),
('A20230003', '123456', '王采购', '13800138002');

-- 2. 插入读者类型
INSERT INTO ReaderType(readerType, borrowRange, maxCount, dateDeadline) VALUES
('松山湖校区学生', '松山湖校区书库', 5, 30),
('莞城校区学生', '莞城校区书库', 5, 30),
('松山湖校区教师', '松山湖校区书库,莞城校区书库', 10, 60),
('莞城校区教师', '松山湖校区书库,莞城校区书库', 10, 60);

-- 3. 插入读者数据
INSERT INTO Reader(
    readerNumber, userName, sex, birthday, idNumber, 
    workplace, address, postcode, phone, createDate,
    readerType, work
) VALUES
-- 松山湖校区学生
('R20230001', '李浩明', '男', '2003-01-01', '440101200301011234',
'东莞理工学院松山湖校区', '松山湖校区12栋', '523000', '13912345678',
'2025-03-31 12:27:11', '松山湖校区学生', '在校学生'),

('R20230002', '张小红', '女', '2004-02-15', '440101200402151234',
'东莞理工学院松山湖校区', '松山湖校区13栋', '523000', '13912345679',
'2025-03-31 12:27:11', '松山湖校区学生', '在校学生'),

-- 莞城校区学生
('R20230003', '王建明', '男', '2003-03-20', '440101200303201234',
'东莞理工学院莞城校区', '莞城校区6栋', '523000', '13912345680',
'2025-03-31 12:27:11', '莞城校区学生', '在校学生'),

('R20230004', '赵丽', '女', '2004-04-10', '440101200404101234',
'东莞理工学院莞城校区', '莞城校区7栋', '523000', '13912345681',
'2025-03-31 12:27:11', '莞城校区学生', '在校学生'),

-- 松山湖校区教师
('R20230005', '陈教授', '男', '1980-05-15', '440101198005151234',
'东莞理工学院松山湖校区', '松山湖校区教师公寓', '523000', '13912345682',
'2025-03-31 12:27:11', '松山湖校区教师', '教授'),

-- 莞城校区教师
('R20230006', '刘老师', '女', '1985-06-20', '440101198506201234',
'东莞理工学院莞城校区', '莞城校区教师公寓', '523000', '13912345683',
'2025-03-31 12:27:11', '莞城校区教师', '副教授');

-- 4. 插入图书数据
INSERT INTO Book(
    bookNumber, bookName, author, publisher, publishDate,
    version, price, summary, classNumber, callNumber,
    totalCount, currentCount, registerNumber, stackRoom, inDate
) VALUES
-- 松山湖校区书库的图书
('B20230001', 'Java程序设计', '李明', '清华大学出版社', '2020-01-01',
1, 45.00, 'Java编程入门教材', 'TP312', 'TP312/L234',
5, 5, 'L2023001', '松山湖校区书库', '2025-03-31 12:27:11'),

('B20230002', 'Python数据分析', '张三', '机械工业出版社', '2021-02-01',
2, 58.00, 'Python数据分析实战指南', 'TP312', 'TP312/Z789',
3, 3, 'L2023002', '松山湖校区书库', '2025-03-31 12:27:11'),

('B20230003', '深入理解计算机系统', '兰德尔', '机械工业出版社', '2019-03-01',
3, 89.00, '计算机系统底层原理', 'TP301', 'TP301/L456',
4, 4, 'L2023003', '松山湖校区书库', '2025-03-31 12:27:11'),

('B20230004', '高等数学(上册)', '同济大学数学系', '高等教育出版社', '2020-08-01',
7, 42.00, '工科数学教材', 'O13', 'O13/T123',
8, 8, 'L2023004', '松山湖校区书库', '2025-03-31 12:27:11'),

-- 莞城校区书库的图书
('B20230005', '建筑设计原理', '王建国', '中国建筑工业出版社', '2019-05-01',
2, 68.00, '建筑设计基础教材', 'TU201', 'TU201/W567',
6, 6, 'L2023005', '莞城校区书库', '2025-03-31 12:27:11'),

('B20230006', '工程力学', '范钦珊', '高等教育出版社', '2020-03-01',
3, 45.00, '工程力学基础教程', 'TU312', 'TU312/F789',
4, 4, 'L2023006', '莞城校区书库', '2025-03-31 12:27:11'),

('B20230007', '建筑材料', '李嘉', '中国建筑工业出版社', '2021-06-01',
1, 52.00, '建筑材料使用指南', 'TU501', 'TU501/L234',
5, 5, 'L2023007', '莞城校区书库', '2025-03-31 12:27:11'),

('B20230008', '结构力学', '龙驭球', '高等教育出版社', '2019-09-01',
4, 48.00, '结构力学基础', 'TU312', 'TU312/L567',
3, 3, 'L2023008', '莞城校区书库', '2025-03-31 12:27:11');

-- 5. 测试借书操作
INSERT INTO Borrow(readerNumber, bookNumber, borrowDate, returnDeadline, adminNo) VALUES
-- 松山湖校区学生借松山湖校区的书
('R20230001', 'B20230001', '2025-03-31 12:27:11', 
DATEADD(day, 30, '2025-03-31 12:27:11'), '123jianzhu'),
('R20230002', 'B20230002', '2025-03-31 12:27:11', 
DATEADD(day, 30, '2025-03-31 12:27:11'), '123jianzhu'),

-- 莞城校区学生借莞城校区的书
('R20230003', 'B20230005', '2025-03-31 12:27:11', 
DATEADD(day, 30, '2025-03-31 12:27:11'), '123jianzhu'),
('R20230004', 'B20230006', '2025-03-31 12:27:11', 
DATEADD(day, 30, '2025-03-31 12:27:11'), '123jianzhu'),

-- 教师跨校区借书
('R20230005', 'B20230005', '2025-03-31 12:27:11', 
DATEADD(day, 60, '2025-03-31 12:27:11'), '123jianzhu'),
('R20230006', 'B20230001', '2025-03-31 12:27:11', 
DATEADD(day, 60, '2025-03-31 12:27:11'), '123jianzhu');

-- 6. 测试还书操作
INSERT INTO ReturnBook(borrowId, returnDate, adminNo) VALUES
(1, '2025-03-31 12:27:11', '123jianzhu'),
(3, '2025-03-31 12:27:11', '123jianzhu');

-- 7. 验证数据
SELECT '管理员数量' as 项目, COUNT(*) as 数量 FROM Administrator
UNION ALL
SELECT '读者类型数量', COUNT(*) FROM ReaderType
UNION ALL
SELECT '读者数量', COUNT(*) FROM Reader
UNION ALL
SELECT '图书数量', COUNT(*) FROM Book
UNION ALL
SELECT '借书记录数量', COUNT(*) FROM Borrow
UNION ALL
SELECT '还书记录数量', COUNT(*) FROM ReturnBook
UNION ALL
SELECT '图书操作日志数量', COUNT(*) FROM Admin_Book
UNION ALL
SELECT '读者操作日志数量', COUNT(*) FROM Admin_Reader;